@{
    ViewData["Title"] = "Home Page";
}

<script src="~/js/codemirror.js"></script>
<link href="~/css/codemirror.css" rel="stylesheet" />
<script src="~/js/javascript.js"></script>
<style>
    .btn-primary {
        -webkit-tap-highlight-color: transparent;
        --blue: #007bff;
        --indigo: #6610f2;
        --purple: #6f42c1;
        --pink: #e83e8c;
        --red: #dc3545;
        --orange: #fd7e14;
        --yellow: #ffc107;
        --green: #28a745;
        --teal: #20c997;
        --cyan: #17a2b8;
        --white: #fff;
        --gray: #6c757d;
        --gray-dark: #343a40;
        --primary: #007bff;
        --secondary: #6c757d;
        --success: #28a745;
        --info: #17a2b8;
        --warning: #ffc107;
        --danger: #dc3545;
        --light: #f8f9fa;
        --dark: #343a40;
        --breakpoint-xs: 0;
        --breakpoint-sm: 576px;
        --breakpoint-md: 768px;
        --breakpoint-lg: 992px;
        --breakpoint-xl: 1200px;
        --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        box-sizing: border-box;
        margin: 0;
        font-family: inherit;
        overflow: visible;
        text-transform: none;
        display: inline-block;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        user-select: none;
        border: 1px solid transparent;
        padding: .375rem .75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: .25rem;
        transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        color: #fff;
        background-color: #007bff;
        border-color: #007bff;
        cursor: pointer;
    }
</style>

@if (ViewBag.Deployed)
{
    <h1 class="display-4">View Completed Deployment</h1>
    <textarea id="ArmTemplate">@ViewBag.Template</textarea>
}
else
{

    <h1 class="display-4">Deploy ARM Template</h1>
    <p>Review the ARM Template to deploy. <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/resource-location?tabs=azure-powershell">Template Docs</a>.</p>
    <p>Azure Console <a href="https://ms.portal.azure.com/?feature.showassettypes=Microsoft_Azure_AutoManagedVirtualMachines_AutoManagedVirtualMachines&microsoft_azure_marketplace_ItemHideKey=AutoManagedVirtualMachinesHidden#homeLink">Link Here</a>.</p>

    <textarea id="ArmTemplate">@ViewBag.Template
    </textarea>

    <h3>Subscription Template</h3>
    <textarea id="subscriptionTemplate">
        @ViewBag.SubscriptionTemplate
    </textarea>

    <form action="Azure" method="post">
        <button name="Deploy" class="btn-primary" value="Deploy Template">Deploy Template</button>
    </form>

    <form action="AzureSubscription" method="post">
        <button name="Deploy2" class="btn-primary" value="Deploy Subscription Template">Deploy Subscription Template</button>
    </form>

    <a class="btn-primary" href="AzureGet">View Previous Deployment Details</a>
}

<script>var myCodeMirror = CodeMirror.fromTextArea(document.getElementById('ArmTemplate'));</script>
<script>var myCodeMirror = CodeMirror.fromTextArea(document.getElementById('subscriptionTemplate'));</script>