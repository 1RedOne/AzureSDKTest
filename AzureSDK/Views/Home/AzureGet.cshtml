@using Newtonsoft.Json;
@using AzureSDK.Models;
@using Microsoft.Azure.Management.ResourceManager.Fluent;
@{JsonSerializerSettings loopHandler = new JsonSerializerSettings()
    {
        ReferenceLoopHandling = Newtonsoft.Json.ReferenceLoopHandling.Ignore
    }; }
<script src="~/js/codemirror.js"></script>
<link href="~/css/codemirror.css" rel="stylesheet" />
<script src="~/js/javascript.js"></script>
<style>
    .btn-primary {
        -webkit-tap-highlight-color: transparent;
        --blue: #007bff;
        --indigo: #6610f2;
        --purple: #6f42c1;
        --pink: #e83e8c;
        --red: #dc3545;
        --orange: #fd7e14;
        --yellow: #ffc107;
        --green: #28a745;
        --teal: #20c997;
        --cyan: #17a2b8;
        --white: #fff;
        --gray: #6c757d;
        --gray-dark: #343a40;
        --primary: #007bff;
        --secondary: #6c757d;
        --success: #28a745;
        --info: #17a2b8;
        --warning: #ffc107;
        --danger: #dc3545;
        --light: #f8f9fa;
        --dark: #343a40;
        --breakpoint-xs: 0;
        --breakpoint-sm: 576px;
        --breakpoint-md: 768px;
        --breakpoint-lg: 992px;
        --breakpoint-xl: 1200px;
        --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        box-sizing: border-box;
        margin: 0;
        font-family: inherit;
        overflow: visible;
        text-transform: none;
        display: inline-block;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        user-select: none;
        border: 1px solid transparent;
        padding: .375rem .75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: .25rem;
        transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        color: #fff;
        background-color: #007bff;
        border-color: #007bff;
        cursor: pointer;
    }
</style>

<h1 class="display-4">Deployment Operation Info</h1>

@foreach (ArmDeployment h in ViewBag.Deployments)
{
    Html.RenderPartial("DeploymentPartial", h);

    <text>
        <h4>
            ArmDeployment Object as JSON
        </h4>
    </text>

    <textarea id="ArmTemplate">
            @Newtonsoft.Json.JsonConvert.SerializeObject(h, Formatting.Indented, loopHandler);
    </textarea>

}


    <text>
        <h4>
            IDeployment Object as JSON
        </h4>
    </text>

    <textarea id="ArmTemplate2">
            @Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.DeploymentSourceObject, Formatting.Indented, loopHandler);
    </textarea>


<script>var myCodeMirror = CodeMirror.fromTextArea(document.getElementById('ArmTemplate'));</script>
<script>var myCodeMirror = CodeMirror.fromTextArea(document.getElementById('ArmTemplate2'));</script>